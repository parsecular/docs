---
title: "Onboard"
description: "Set up an exchange for trading in a single call"
---

`POST /api/v1/onboard`

Unified onboarding endpoint. Supports two modes:

- **Managed** — Parsec creates a wallet and derives exchange credentials on your behalf (Polymarket only).
- **Self** — You provide your own exchange credentials (Polymarket or Kalshi).

Idempotent and resumable. Re-running skips already-completed steps.

### Managed mode — two wallet paths

Managed mode supports two mutually exclusive wallet paths:

| User type | `wallet_type` | `eoa_address` | What happens |
|-----------|--------------|---------------|--------------|
| No external wallet | `eoa` (default) | omit | Parsec creates an embedded EOA wallet |
| External wallet (e.g. MetaMask) | `safe` | required | Parsec creates a Safe wallet owned by the external address |

- `wallet_type: "safe"` **requires** `eoa_address` — returns 400 without it.
- Providing `eoa_address` with `wallet_type: "eoa"` returns 400 — external wallet users must use `"safe"`.

## Parameters

<ParamField body="exchange" type="string" required>
  Exchange to onboard. `polymarket` or `kalshi`.
</ParamField>

<ParamField body="mode" type="string" required>
  `managed` or `self`.
</ParamField>

### Managed mode options

<ParamField body="wallet_type" type="string" default="eoa">
  `eoa` (default) — Parsec creates an embedded EOA wallet.
  `safe` — Parsec creates a Safe wallet (requires `eoa_address`).
</ParamField>

<ParamField body="eoa_address" type="string">
  External wallet address (42-char hex, `0x`-prefixed). Required when `wallet_type: "safe"`.
  When provided, Parsec skips embedded EOA creation and uses this address as the Safe owner.
  Must not be provided when `wallet_type: "eoa"`.
</ParamField>

<ParamField body="chain_id" type="number" default="137">
  Chain ID for Safe wallet creation. Defaults to Polygon (137). Only used with `wallet_type: "safe"`.
</ParamField>

### Self mode — Polymarket

<ParamField body="clob_api_key" type="string">
  Polymarket CLOB API key.
</ParamField>

<ParamField body="clob_api_secret" type="string">
  Polymarket CLOB API secret.
</ParamField>

<ParamField body="clob_api_passphrase" type="string">
  Polymarket CLOB API passphrase.
</ParamField>

<ParamField body="private_key" type="string">
  Your Ethereum private key (hex, `0x`-prefixed). Enables order signing so you can
  place and cancel orders. Without it, only read operations (balance, positions) work.
</ParamField>

### Self mode — Kalshi

<ParamField body="api_key_id" type="string">
  Kalshi API key ID.
</ParamField>

<ParamField body="private_key" type="string">
  Kalshi RSA private key (PEM format).
</ParamField>

## Response

<ResponseField name="exchange" type="string">
  The exchange that was onboarded.
</ResponseField>

<ResponseField name="mode" type="string">
  `managed` or `self`.
</ResponseField>

<ResponseField name="status" type="string">
  `complete` on success.
</ResponseField>

<ResponseField name="eoa_address" type="string | null">
  EOA wallet address. For managed EOA mode, this is the Parsec-created embedded wallet.
  For managed Safe mode, this is the external wallet address that owns the Safe.
</ResponseField>

<ResponseField name="safe_address" type="string | null">
  Safe wallet address. Present only when `wallet_type: "safe"`.
</ResponseField>

<ResponseField name="linked_exchanges" type="string[]">
  All exchanges linked to this account.
</ResponseField>

<ResponseField name="steps_completed" type="string[]">
  Steps completed during this call (for idempotency transparency). Possible values:
  - `wallet_eoa_created` — Embedded EOA wallet created (managed EOA path)
  - `external_eoa_provided` — External wallet address accepted (managed Safe path)
  - `wallet_safe_created` — Safe wallet created (managed Safe path)
  - `exchange_linked` — CLOB credentials derived + approvals set (managed mode)
  - `credentials_validated` — Credentials validated (self Kalshi)
  - `credentials_stored` — Credentials stored (self mode)
</ResponseField>

<RequestExample>
```bash Managed — EOA (email user)
curl -X POST "https://api.parsecapi.com/api/v1/onboard" \
  -H "X-API-Key: YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "exchange": "polymarket",
    "mode": "managed"
  }'
```
```bash Managed — Safe (external wallet)
curl -X POST "https://api.parsecapi.com/api/v1/onboard" \
  -H "X-API-Key: YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "exchange": "polymarket",
    "mode": "managed",
    "wallet_type": "safe",
    "eoa_address": "0x1234567890abcdef1234567890abcdef12345678"
  }'
```
```bash Self Polymarket
curl -X POST "https://api.parsecapi.com/api/v1/onboard" \
  -H "X-API-Key: YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "exchange": "polymarket",
    "mode": "self",
    "clob_api_key": "your-clob-api-key",
    "clob_api_secret": "your-clob-api-secret",
    "clob_api_passphrase": "your-clob-passphrase",
    "private_key": "0xYourEthPrivateKey"
  }'
```
```bash Self Kalshi
curl -X POST "https://api.parsecapi.com/api/v1/onboard" \
  -H "X-API-Key: YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "exchange": "kalshi",
    "mode": "self",
    "api_key_id": "your-kalshi-key-id",
    "private_key": "-----BEGIN RSA PRIVATE KEY-----\nMIIE..."
  }'
```
</RequestExample>

<ResponseExample>
```json Managed — EOA
{
  "exchange": "polymarket",
  "mode": "managed",
  "status": "complete",
  "eoa_address": "0x1234567890abcdef1234567890abcdef12345678",
  "safe_address": null,
  "linked_exchanges": ["polymarket"],
  "steps_completed": ["wallet_eoa_created", "exchange_linked"]
}
```
```json Managed — Safe
{
  "exchange": "polymarket",
  "mode": "managed",
  "status": "complete",
  "eoa_address": "0x1234567890abcdef1234567890abcdef12345678",
  "safe_address": "0xabcdef1234567890abcdef1234567890abcdef12",
  "linked_exchanges": ["polymarket"],
  "steps_completed": ["external_eoa_provided", "wallet_safe_created", "exchange_linked"]
}
```
```json Self
{
  "exchange": "kalshi",
  "mode": "self",
  "status": "complete",
  "eoa_address": null,
  "safe_address": null,
  "linked_exchanges": ["kalshi"],
  "steps_completed": ["credentials_validated", "credentials_stored"]
}
```
</ResponseExample>

## Mode support matrix

| Exchange | Managed | Self |
|----------|---------|------|
| Polymarket | Yes | Yes |
| Kalshi | No (create account at kalshi.com) | Yes |
