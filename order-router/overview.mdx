---
title: "Order Router"
description: "How Parsec routes orders across prediction markets."
---

## How it works

The order router is a unified interface for placing, managing, and tracking
orders across every supported exchange. You specify the exchange as a query
parameter — Parsec handles authentication, signing, and protocol differences.

## Authentication modes

| Mode | How credentials work | Best for |
|------|---------------------|----------|
| Stored (self onboard) | `POST /onboard` once with your credentials, trade forever | Most users |
| Managed wallet | `POST /onboard` with `mode: "managed"`, we handle keys | UI traders |
| Per-request | Pass creds per-request via `X-Exchange-Credentials` header | Pro traders, builders |
| Builder impersonation | `X-Builder-Customer-Id` header routes to end-user | [Builders](/builders/overview) |

<CardGroup cols={3}>
  <Card title="Direct Trader" icon="key" href="/getting-started/direct-trader">
    Store credentials and trade via API.
  </Card>
  <Card title="Managed Wallet" icon="wallet" href="/getting-started/managed-wallet">
    We create and manage a wallet for you.
  </Card>
  <Card title="Per-Request" icon="shield" href="/getting-started/per-request-credentials">
    Pass credentials with each request.
  </Card>
</CardGroup>

## Order lifecycle

```
1. POST   /orders?exchange=X     → Create order (returns Order with status)
2. GET    /orders?exchange=X     → List open orders
3. GET    /orders/:id?exchange=X → Poll order status
4. DELETE /orders/:id?exchange=X → Cancel order
```

## Order types

| Type | Behavior | Supported |
|------|----------|-----------|
| `gtc` | Good-til-cancelled (default) | All exchanges |
| `ioc` | Immediate-or-cancel | Polymarket, Kalshi |
| `fok` | Fill-or-kill | Polymarket |

Set via `params.order_type` in the create order request body. Unsupported combinations return `501`.

## Supported exchanges

| Exchange | Trading | Positions | Balance | Fills | Orderbook | Price History | Onboarding |
|----------|---------|-----------|---------|-------|-----------|---------------|------------|
| Polymarket | Yes | Yes | Yes | Yes | Yes | Yes | Managed + Self |
| Kalshi | Yes | Yes | Yes | Yes | Yes | Yes | Self |
| Limitless | Data only | — | — | — | Yes | Yes | — |
| Opinion | Data only | — | — | — | Polling | Yes | — |
| Predict.fun | Data only | — | — | — | Polling | Yes | — |

**Trading support** (create/cancel orders, positions, balance, fills) requires exchange credentials.
Credentials can be stored via `POST /onboard` (Polymarket and Kalshi) or passed per-request via `X-Exchange-Credentials`.

Use `GET /exchanges` to see the full capability matrix at runtime.

## Builder impersonation

Builders route orders on behalf of end-users by adding the
`X-Builder-Customer-Id` header. All order endpoints work the same — Parsec
resolves the end-user's credentials automatically.

```bash
curl -X POST "https://api.parsecapi.com/api/v1/orders?exchange=polymarket" \
  -H "X-API-Key: pk_live_YOUR_BUILDER_KEY" \
  -H "X-Builder-Customer-Id: CUSTOMER_ID" \
  -H "Content-Type: application/json" \
  -d '{ "market_id": "0x...", "outcome": "Yes", "side": "buy", "price": 0.55, "size": 100 }'
```

Read-only endpoints (`/markets`, `/orderbook`, `/trades`, `/price`, `/events`)
do **not** require `X-Builder-Customer-Id`.

For fee collection on builder orders, include the `fee_auth` object in the
create order request. See [Fee Escrow](/builders/fee-escrow) and the
[Create Order](/api/create-order) reference for the full field list.

## Pre-trade checks

Before placing an order, you can use these endpoints to assess liquidity and readiness:

| Endpoint | Purpose |
|----------|---------|
| `GET /execution-price` | Estimate VWAP + slippage for a hypothetical order |
| `GET /orderbook` | Inspect the live orderbook |
| `GET /ping` | Verify exchange connectivity and auth status |
